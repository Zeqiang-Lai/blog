<!DOCTYPE html>
<html lang="zh" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Detrï¼ˆDetection Transformerï¼‰æ˜¯ facebook åœ¨ 2020 å¹´æå‡ºçš„ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œ
å®ƒæ”¹å˜äº†ç°æœ‰åŸºäº Fast-RCNN å’Œ YOLO çš„ç›®æ ‡æ£€æµ‹èŒƒå¼ï¼Œåç»­æœ‰è®¸å¤šå·¥ä½œï¼ŒåŸºäº Detr æå‡ºäº†å„ç§ä¸ªæ ·çš„æ”¹è¿›ã€‚">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Detr Family for End-to-End Detection" />
<meta property="og:description" content="Detrï¼ˆDetection Transformerï¼‰æ˜¯ facebook åœ¨ 2020 å¹´æå‡ºçš„ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œ
å®ƒæ”¹å˜äº†ç°æœ‰åŸºäº Fast-RCNN å’Œ YOLO çš„ç›®æ ‡æ£€æµ‹èŒƒå¼ï¼Œåç»­æœ‰è®¸å¤šå·¥ä½œï¼ŒåŸºäº Detr æå‡ºäº†å„ç§ä¸ªæ ·çš„æ”¹è¿›ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zeqiang-lai.github.io/blog/posts/ai/detr/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-05-26T12:03:46+08:00" />

<title>Detr Family for End-to-End Detection | Ze&#39;s Blog</title>
<link rel="manifest" href="/blog/manifest.json">
<link rel="icon" href="/blog/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/blog/book.min.6462353533c3f762fe6bb5be03366e305f85746754362ee2d02d32045005eef6.css" integrity="sha256-ZGI1NTPD92L&#43;a7W&#43;AzZuMF&#43;FdGdUNi7i0C0yBFAF7vY=" crossorigin="anonymous">
  <script defer src="/blog/flexsearch.min.js"></script>
  <script defer src="/blog/zh.search.min.2ea926108804da441bd5a72b62bdb66d2ec88a14da17d2092f46c55f32904e59.js" integrity="sha256-LqkmEIgE2kQb1acrYr22bS7IihTaF9IJL0bFXzKQTlk=" crossorigin="anonymous"></script>

  <script defer src="/blog/sw.min.f4bc4151631c92d29816d24dfaacb947aa6b03f91ec1c0cd2738ba8957d04791.js" integrity="sha256-9LxBUWMcktKYFtJN&#43;qy5R6prA/kewcDNJzi6iVfQR5E=" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7KXWQ22DHN"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-7KXWQ22DHN', { 'anonymize_ip': false });
}
</script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link href="/blog/font-awesome/css/fontawesome.css" rel="stylesheet">
<link href="/blog/font-awesome/css/brands.css" rel="stylesheet">
<link href="/blog/font-awesome/css/solid.css" rel="stylesheet">

<style type="text/css" media="screen">
    @media (prefers-color-scheme: dark) { 
      /* Background */ .chroma { color: #1f1f24 }
/* Other */ .chroma .x { color: #ffffff }
/* Error */ .chroma .err { color: #960050 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0;color: #ffffff }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block;color: #ffffff }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;color: #ffffff; background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #8f8f91 }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #8f8f91 }
/* Keyword */ .chroma .k { color: #fc5fa3 }
/* KeywordConstant */ .chroma .kc { color: #fc5fa3 }
/* KeywordDeclaration */ .chroma .kd { color: #fc5fa3 }
/* KeywordNamespace */ .chroma .kn { color: #fc5fa3 }
/* KeywordPseudo */ .chroma .kp { color: #fc5fa3 }
/* KeywordReserved */ .chroma .kr { color: #fc5fa3 }
/* KeywordType */ .chroma .kt { color: #fc5fa3 }
/* Name */ .chroma .n { color: #ffffff }
/* NameAttribute */ .chroma .na { color: #ffffff }
/* NameBuiltin */ .chroma .nb { color: #d0a8ff }
/* NameBuiltinPseudo */ .chroma .bp { color: #a167e6 }
/* NameClass */ .chroma .nc { color: #5dd8ff }
/* NameConstant */ .chroma .no { color: #ffffff }
/* NameDecorator */ .chroma .nd { color: #ffffff }
/* NameEntity */ .chroma .ni { color: #ffffff }
/* NameException */ .chroma .ne { color: #ffffff }
/* NameFunction */ .chroma .nf { color: #41a1c0 }
/* NameFunctionMagic */ .chroma .fm { color: #ffffff }
/* NameLabel */ .chroma .nl { color: #ffffff }
/* NameNamespace */ .chroma .nn { color: #ffffff }
/* NameOther */ .chroma .nx { color: #ffffff }
/* NameProperty */ .chroma .py { color: #ffffff }
/* NameTag */ .chroma .nt { color: #ffffff }
/* NameVariable */ .chroma .nv { color: #41a1c0 }
/* NameVariableClass */ .chroma .vc { color: #ffffff }
/* NameVariableGlobal */ .chroma .vg { color: #ffffff }
/* NameVariableInstance */ .chroma .vi { color: #ffffff }
/* NameVariableMagic */ .chroma .vm { color: #ffffff }
/* Literal */ .chroma .l { color: #ffffff }
/* LiteralDate */ .chroma .ld { color: #ffffff }
/* LiteralString */ .chroma .s { color: #fc6a5d }
/* LiteralStringAffix */ .chroma .sa { color: #fc6a5d }
/* LiteralStringBacktick */ .chroma .sb { color: #fc6a5d }
/* LiteralStringChar */ .chroma .sc { color: #fc6a5d }
/* LiteralStringDelimiter */ .chroma .dl { color: #fc6a5d }
/* LiteralStringDoc */ .chroma .sd { color: #fc6a5d }
/* LiteralStringDouble */ .chroma .s2 { color: #fc6a5d }
/* LiteralStringEscape */ .chroma .se { color: #fc6a5d }
/* LiteralStringHeredoc */ .chroma .sh { color: #fc6a5d }
/* LiteralStringInterpol */ .chroma .si { color: #ffffff }
/* LiteralStringOther */ .chroma .sx { color: #fc6a5d }
/* LiteralStringRegex */ .chroma .sr { color: #fc6a5d }
/* LiteralStringSingle */ .chroma .s1 { color: #fc6a5d }
/* LiteralStringSymbol */ .chroma .ss { color: #fc6a5d }
/* LiteralNumber */ .chroma .m { color: #d0bf69 }
/* LiteralNumberBin */ .chroma .mb { color: #d0bf69 }
/* LiteralNumberFloat */ .chroma .mf { color: #d0bf69 }
/* LiteralNumberHex */ .chroma .mh { color: #d0bf69 }
/* LiteralNumberInteger */ .chroma .mi { color: #d0bf69 }
/* LiteralNumberIntegerLong */ .chroma .il { color: #d0bf69 }
/* LiteralNumberOct */ .chroma .mo { color: #d0bf69 }
/* Operator */ .chroma .o { color: #ffffff }
/* OperatorWord */ .chroma .ow { color: #ffffff }
/* Punctuation */ .chroma .p { color: #ffffff }
/* Comment */ .chroma .c { color: #6c7986 }
/* CommentHashbang */ .chroma .ch { color: #6c7986 }
/* CommentMultiline */ .chroma .cm { color: #6c7986 }
/* CommentSingle */ .chroma .c1 { color: #6c7986 }
/* CommentSpecial */ .chroma .cs { color: #6c7986; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #fd8f3f }
/* CommentPreprocFile */ .chroma .cpf { color: #fd8f3f }
/* Generic */ .chroma .g { color: #ffffff }
/* GenericDeleted */ .chroma .gd { color: #ffffff }
/* GenericEmph */ .chroma .ge { color: #ffffff }
/* GenericError */ .chroma .gr { color: #ffffff }
/* GenericHeading */ .chroma .gh { color: #ffffff }
/* GenericInserted */ .chroma .gi { color: #ffffff }
/* GenericOutput */ .chroma .go { color: #ffffff }
/* GenericPrompt */ .chroma .gp { color: #ffffff }
/* GenericStrong */ .chroma .gs { color: #ffffff }
/* GenericSubheading */ .chroma .gu { color: #ffffff }
/* GenericTraceback */ .chroma .gt { color: #ffffff }
/* GenericUnderline */ .chroma .gl { color: #ffffff }
/* TextWhitespace */ .chroma .w { color: #ffffff }

    }
    @media (prefers-color-scheme: light) { 
      /* Background */ .chroma { background-color: #ffffff }
/* Other */ .chroma .x {  }
/* Error */ .chroma .err { color: #000000 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* Keyword */ .chroma .k { color: #a90d91 }
/* KeywordConstant */ .chroma .kc { color: #a90d91 }
/* KeywordDeclaration */ .chroma .kd { color: #a90d91 }
/* KeywordNamespace */ .chroma .kn { color: #a90d91 }
/* KeywordPseudo */ .chroma .kp { color: #a90d91 }
/* KeywordReserved */ .chroma .kr { color: #a90d91 }
/* KeywordType */ .chroma .kt { color: #a90d91 }
/* Name */ .chroma .n { color: #000000 }
/* NameAttribute */ .chroma .na { color: #836c28 }
/* NameBuiltin */ .chroma .nb { color: #a90d91 }
/* NameBuiltinPseudo */ .chroma .bp { color: #5b269a }
/* NameClass */ .chroma .nc { color: #3f6e75 }
/* NameConstant */ .chroma .no { color: #000000 }
/* NameDecorator */ .chroma .nd { color: #000000 }
/* NameEntity */ .chroma .ni { color: #000000 }
/* NameException */ .chroma .ne { color: #000000 }
/* NameFunction */ .chroma .nf { color: #000000 }
/* NameFunctionMagic */ .chroma .fm { color: #000000 }
/* NameLabel */ .chroma .nl { color: #000000 }
/* NameNamespace */ .chroma .nn { color: #000000 }
/* NameOther */ .chroma .nx { color: #000000 }
/* NameProperty */ .chroma .py { color: #000000 }
/* NameTag */ .chroma .nt { color: #000000 }
/* NameVariable */ .chroma .nv { color: #000000 }
/* NameVariableClass */ .chroma .vc { color: #000000 }
/* NameVariableGlobal */ .chroma .vg { color: #000000 }
/* NameVariableInstance */ .chroma .vi { color: #000000 }
/* NameVariableMagic */ .chroma .vm { color: #000000 }
/* Literal */ .chroma .l { color: #1c01ce }
/* LiteralDate */ .chroma .ld { color: #1c01ce }
/* LiteralString */ .chroma .s { color: #c41a16 }
/* LiteralStringAffix */ .chroma .sa { color: #c41a16 }
/* LiteralStringBacktick */ .chroma .sb { color: #c41a16 }
/* LiteralStringChar */ .chroma .sc { color: #2300ce }
/* LiteralStringDelimiter */ .chroma .dl { color: #c41a16 }
/* LiteralStringDoc */ .chroma .sd { color: #c41a16 }
/* LiteralStringDouble */ .chroma .s2 { color: #c41a16 }
/* LiteralStringEscape */ .chroma .se { color: #c41a16 }
/* LiteralStringHeredoc */ .chroma .sh { color: #c41a16 }
/* LiteralStringInterpol */ .chroma .si { color: #c41a16 }
/* LiteralStringOther */ .chroma .sx { color: #c41a16 }
/* LiteralStringRegex */ .chroma .sr { color: #c41a16 }
/* LiteralStringSingle */ .chroma .s1 { color: #c41a16 }
/* LiteralStringSymbol */ .chroma .ss { color: #c41a16 }
/* LiteralNumber */ .chroma .m { color: #1c01ce }
/* LiteralNumberBin */ .chroma .mb { color: #1c01ce }
/* LiteralNumberFloat */ .chroma .mf { color: #1c01ce }
/* LiteralNumberHex */ .chroma .mh { color: #1c01ce }
/* LiteralNumberInteger */ .chroma .mi { color: #1c01ce }
/* LiteralNumberIntegerLong */ .chroma .il { color: #1c01ce }
/* LiteralNumberOct */ .chroma .mo { color: #1c01ce }
/* Operator */ .chroma .o { color: #000000 }
/* OperatorWord */ .chroma .ow { color: #000000 }
/* Punctuation */ .chroma .p {  }
/* Comment */ .chroma .c { color: #177500 }
/* CommentHashbang */ .chroma .ch { color: #177500 }
/* CommentMultiline */ .chroma .cm { color: #177500 }
/* CommentSingle */ .chroma .c1 { color: #177500 }
/* CommentSpecial */ .chroma .cs { color: #177500 }
/* CommentPreproc */ .chroma .cp { color: #633820 }
/* CommentPreprocFile */ .chroma .cpf { color: #633820 }
/* Generic */ .chroma .g {  }
/* GenericDeleted */ .chroma .gd {  }
/* GenericEmph */ .chroma .ge {  }
/* GenericError */ .chroma .gr {  }
/* GenericHeading */ .chroma .gh {  }
/* GenericInserted */ .chroma .gi {  }
/* GenericOutput */ .chroma .go {  }
/* GenericPrompt */ .chroma .gp {  }
/* GenericStrong */ .chroma .gs {  }
/* GenericSubheading */ .chroma .gu {  }
/* GenericTraceback */ .chroma .gt {  }
/* GenericUnderline */ .chroma .gl {  }
/* TextWhitespace */ .chroma .w {  }
 
    }
</style>




<link rel="stylesheet" type="text/css" href="/blog/hugo-cite.css" />
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/blog/"><span>Ze&#39;s Blog</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="æœç´¢" aria-label="æœç´¢" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/blog/svg/translate.svg" class="book-icon" alt="Languages" />
        Chinese
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://zeqiang-lai.github.io/blog/en/">
          English
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Notes</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/blog/docs/notes/concept/" class="">Concept</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/blog/docs/notes/paper/" class="">Paper</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/blog/docs/gen/" class="">AIGC</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/blog/docs/matrix/" class="">Matrix</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/blog/posts/" >
        Posts
      </a>
  </li>
  
  <li>
    <a href="https://zeqiang-lai.github.io/Algorithms/" target="_blank" rel="noopener"></br>
        Algorithms
      </a>
  </li>
  
  <li>
    <a href="https://zeqiang-lai.github.io/" target="_blank" rel="noopener">
        Profile
      </a>
  </li>
  
  <li>
    <a href="https://github.com/Zeqiang-Lai" target="_blank" rel="noopener"></br><i class="fab fa-github"></i>
        Github
      </a>
  </li>
  
</ul>





<div class="js-toggle-wrapper">
  <div class="js-toggle">
    <div class="js-toggle-track">
      <div class="js-toggle-track-check">
        <img
          src="data:image/png;base64,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"
          role="presentation"
          style="pointer-events: none"
          width="20"
          height="20"
        />
      </div>
      <div class="js-toggle-track-x">
        <img
          src="data:image/png;base64,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"
          role="presentation"
          style="pointer-events: none"
          width="20"
          height="20"
        />
      </div>
    </div>
    <div class="js-toggle-thumb">
      <img
        src="data:image/png;base64,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"
        role="presentation"
        style="pointer-events: none"
        width="30"
        height="30"
      />
    </div>
    <input
      class="js-toggle-screenreader-only"
      type="checkbox"
      aria-label="Switch between Dark and Light mode"
    />
  </div>
</div>

</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
    <label for="menu-control">
      <img src="/blog/svg/menu.svg" class="book-icon" alt="Menu" />
    </label>
  
    
    <label for="toc-control">
      
      <img src="/blog/svg/toc.svg" class="book-icon" alt="Table of Contents" />
      
    </label>
  </div>
  

  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#timeline">Timeline</a></li>
        <li><a href="#1-detr">1. Detr</a>
          <ul>
            <li><a href="#encoder">Encoder</a></li>
            <li><a href="#position-embedding">Position Embedding</a></li>
            <li><a href="#object-query">Object Query</a></li>
            <li><a href="#panoptic-segmentation">Panoptic Segmentation</a></li>
            <li><a href="#ä¸€äº›ç»†èŠ‚">ä¸€äº›ç»†èŠ‚</a></li>
          </ul>
        </li>
        <li><a href="#2-deformable-detr">2. Deformable Detr</a>
          <ul>
            <li><a href="#deformable-attention">Deformable Attention</a></li>
            <li><a href="#multi-scale">Multi-scale</a></li>
            <li><a href="#additional-improvement">Additional Improvement</a></li>
          </ul>
        </li>
        <li><a href="#3-conditional-detr">3. Conditional Detr</a>
          <ul>
            <li><a href="#seperate-embedding">Seperate Embedding</a></li>
            <li><a href="#reference-point">Reference Point</a></li>
            <li><a href="#conditional-spatial-query">Conditional Spatial Query</a></li>
          </ul>
        </li>
        <li><a href="#4-anchor-detr">4. Anchor Detr</a>
          <ul>
            <li><a href="#anchor-as-object-query">Anchor as Object Query</a></li>
            <li><a href="#row-column-decoupled-attention">Row-Column Decoupled Attention</a></li>
            <li><a href="#å¯¹æ¯”">å¯¹æ¯”</a></li>
          </ul>
        </li>
        <li><a href="#5-dab-detr">5. DAB Detr</a></li>
        <li><a href="#6-dn-detr">6. DN Detr</a></li>
        <li><a href="#å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown">
  <h1>
    <a href="/blog/posts/ai/detr/">Detr Family for End-to-End Detection</a>
  </h1>
  
  <h5>June 27, 2022</h5>



  

  



<p>Detrï¼ˆDetection Transformerï¼‰æ˜¯ facebook åœ¨ 2020 å¹´æå‡ºçš„ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œ
å®ƒæ”¹å˜äº†ç°æœ‰åŸºäº Fast-RCNN å’Œ YOLO çš„ç›®æ ‡æ£€æµ‹èŒƒå¼ï¼Œåç»­æœ‰è®¸å¤šå·¥ä½œï¼ŒåŸºäº Detr æå‡ºäº†å„ç§ä¸ªæ ·çš„æ”¹è¿›ã€‚</p>
<h2 id="timeline">
  Timeline
  <a class="anchor" href="#timeline">#</a>
</h2>
<ol>
<li><strong>Detr</strong> (ECCV 2020): End-to-End Object Detection with Transformers</li>
<li><strong>Deformable Detr</strong> (ICLR 2021): Deformable DETR: Deformable Transformers for End-to-End Object Detection</li>
<li><strong>Conditional Detr</strong> (ICCV 2021): Conditional DETR for Fast Training Convergence</li>
<li><strong>Anchor Detr</strong> (AAAI 2021): Anchor DETR: Query Design for Transformer-Based Object Detection</li>
<li><strong>DAB Detr</strong> (ICLR 2022): DAB-DETR: Dynamic Anchor Boxes are Better Queries for DETR</li>
<li><strong>DN Detr</strong> (CVPR 2022): DN-DETR: Accelerate DETR Training by Introducing Query DeNoising</li>
</ol>
<h2 id="1-detr">
  1. Detr
  <a class="anchor" href="#1-detr">#</a>
</h2>
<p>Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Nicolas"><span itemprop="familyName">Carion</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Francisco"><span itemprop="familyName">Massa</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2020</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Carion</span>,&#32;
    <meta itemprop="givenName" content="Nicolas" />
    N.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Massa</span>,&#32;
    <meta itemprop="givenName" content="Francisco" />
    F.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Synnaeve</span>,&#32;
    <meta itemprop="givenName" content="Gabriel" />
    G.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Usunier</span>,&#32;
    <meta itemprop="givenName" content="Nicolas" />
    N.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Kirillov</span>,&#32;
    <meta itemprop="givenName" content="Alexander" />
    A.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zagoruyko</span>,&#32;
    <meta itemprop="givenName" content="Sergey" />
    S.</span>
  &#32;
    (<span itemprop="datePublished">2020</span>).
  &#32;<span itemprop="name">End-to-End Object Detection with Transformers</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2005.12872"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2005.12872</a></span>




</span></span>)</span>
 æ˜¯ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œå®ƒç›´æ¥å®šä¹‰äº† N<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> ä¸ªç›®æ ‡æ¡†çš„ slotï¼Œè¿™é‡Œ Detr ç§°å…¶ä¸º object queryã€‚</p>
<p>åœ¨ä¼˜åŒ–çš„æ—¶å€™ï¼Œè¿™ N ä¸ª slot å°†ä¼šé€šè¿‡ transformer è¿›è¡Œ self attention ï¼Œä»¥åŠå’Œè¾“å…¥å›¾åƒè¿›è¡Œ cross attentionã€‚
é€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œæ¯ä¸ª slot å°†ä¼šé€æ­¥è¿›åŒ–æˆå¯ä»¥é¢„æµ‹ç›®æ ‡æ¡†åŠå…¶ç±»åˆ«çš„ä¸€ä¸ªç‰¹å¾å‘é‡ã€‚æœ€ç»ˆé€šè¿‡ä¸¤ä¸ªFFNï¼Œå³å¯å›å½’å‡ºç›®æ ‡æ¡†çš„ä½ç½®å’Œç±»åˆ«ã€‚</p>
<figure><img src="detr/detr.png"
         alt="Detræ€»ä½“ç»“æ„"/><figcaption>
            <p>Detræ€»ä½“ç»“æ„</p>
        </figcaption>
</figure>

<h3 id="encoder">
  Encoder
  <a class="anchor" href="#encoder">#</a>
</h3>
<p>Transformer çš„ Encoder å¦‚æœå»æ‰çš„è¯ï¼Œä¼šæ‰ç‚¹ï¼š</p>
<blockquote>
<p>overall AP drops by 3.9 points, with a more signiï¬cant drop of 6.0 AP on large objects.</p>
</blockquote>
<p>ä¸€ä¸ªè§£é‡Šæ˜¯ï¼Œtransformer çš„ self attention å¯ä»¥æå–å…¨å±€ç‰¹å¾ã€‚</p>
<ul>
<li>ä»å¯è§†åŒ–çš„ attention map æ¥çœ‹ï¼Œä¸€ä¸ªç‰©ä½“ä¸Šçš„æŸä¸ªç‚¹çš„ attention map éƒ½èšé›†åœ¨è¿™ä¸ªç‰©ä½“çš„å…¶ä»–éƒ¨åˆ†ã€‚</li>
<li>ä½†è¿™å…¶å®å¾ˆ trivialï¼Œattention map æœ¬èº«æ˜¯ä¸¤ä¸ª token çš„ç›¸ä¼¼åº¦ï¼ŒåŒä¸€ä¸ªç‰©ä½“ä¸åŒåŒºåŸŸçš„ç›¸ä¼¼åº¦è‡ªç„¶å¤§ï¼Œå¯¹äºè¿™ä¸ªç¤ºæ„å›¾æ›´æ˜¯ï¼ŒåŒä¸€ä¸ªç‰©ä½“ï¼Œå…·æœ‰æ˜æ˜¾ç›¸ä¼¼çš„é¢œè‰²å’Œçº¹ç†ç‰¹å¾ã€‚</li>
<li>æ‰€ä»¥ï¼Œè¿™ä¸ª attention map èƒ½è¿™ä¹ˆæ˜æ˜¾çš„åŒºåˆ†ç‰©ä½“ï¼Œæœ‰æ²¡æœ‰å¯èƒ½åªæ˜¯å› ä¸ºé¢œè‰²ç›¸è¿‘å‘¢ï¼Ÿå¦‚æœæœ‰ä¸¤åªå¾ˆåƒçš„ç‰›ï¼Œè·ç¦»ä¹Ÿæ¯”è¾ƒè¿‘ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„ attention map ä¼šæ˜¯ä»€ä¹ˆæ ·å‘¢ï¼Ÿ</li>
</ul>
<p>è¿›ä¸€æ­¥çš„ï¼Œæ—¢ç„¶ encoder çš„ç‰¹å¾å°±å·²ç»å¾ˆæœ‰åŒºåˆ†åº¦äº†ï¼ŒåŒä¸€ä¸ªç‰©ä½“çš„ç‰¹å¾æ¯”è¾ƒåƒäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½é€šè¿‡èšç±»çš„æ–¹å¼ï¼Œæå–å‡ºæ¯ä¸ªç‰©ä½“çš„ç‰¹å¾ï¼Œç„¶åé€šè¿‡ä¸¤ä¸ª FFN é¢„æµ‹ bbox å’Œ class å‘¢ï¼Ÿ</p>
<figure><img src="detr/detr-encode-att.png"/>
</figure>

<h3 id="position-embedding">
  Position Embedding
  <a class="anchor" href="#position-embedding">#</a>
</h3>
<ol>
<li>
<p>ä¸éš¾æƒ³åˆ°ï¼Œdetr ä½¿ç”¨ transformerï¼Œå¦‚æœä¸åŠ  positional encoding çš„è¯ï¼Œfeature æ˜¯ä¸å¸¦ä½ç½®ä¿¡æ¯çš„ï¼Œè¿™æ ·åº”è¯¥æ˜¯å¾ˆéš¾é¢„æµ‹ bbox çš„ä½ç½®çš„ã€‚
è®ºæ–‡å®éªŒç»“æœä¹Ÿä½“ç°äº†è¿™ä¸€ç‚¹ï¼Œå»æ‰ encoder å’Œ decoder çš„ positional encoding ç›´æ¥æ‰äº† 7 ä¸ªç‚¹ã€‚</p>
</li>
<li>
<p>ä½†æ˜¯ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œè¿˜æ˜¯èƒ½å–å¾— 30 å¤šçš„ APï¼Œ è¿™è¯´æ˜åªç”¨ object query æˆ‘ä»¬ä¹Ÿèƒ½å­¦åˆ°ä½ç½®ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡ object query å­¦åˆ°äº†å…³æ³¨æŸäº›ç‰¹å®šåŒºåŸŸï¼Œ
å³æŸäº›åæ ‡åŒºåŸŸï¼Œç„¶åé€šè¿‡ cross attention æ¥åˆ¤æ–­ï¼Œè¿™ä¸ª slot é‡Œæœ‰æ²¡æœ‰ç‰©ä½“ã€‚<strong>ç„¶è€Œ</strong>ï¼Œencoder feature å¹¶æ²¡æœ‰ä»»ä½•ä½ç½®ä¿¡æ¯ï¼Œcross attention
æ€ä¹ˆçŸ¥é“ï¼Œè¿™ä¸ª slot å¯¹åº”çš„ feature åœ¨å“ªå‘¢ï¼Ÿ <strong>å› æ­¤</strong>ï¼Œæˆ‘ä»¬æœ‰ç†ç”±æ€€ç–‘ï¼Œè¿™é‡Œå¯èƒ½æœ‰éšè—çš„ä½ç½®ä¿¡æ¯æ³„æ¼ï¼Œæ¯ä¸ª slot å¯èƒ½ä¼šå…³æ³¨å›ºå®šä½ç½®çš„ encoder feature tokenã€‚</p>
</li>
</ol>
<figure><img src="detr/detr-pos.png" width="600"/>
</figure>

<h3 id="object-query">
  Object Query
  <a class="anchor" href="#object-query">#</a>
</h3>
<p><strong>ç†è§£ Object Query æ˜¯ç†è§£ Detr è®¾è®¡çš„æ ¸å¿ƒ</strong>ã€‚Object query å…¶å®å°±æ˜¯é¢„è®¾çš„æ£€æµ‹æ¡†çš„ä¸€ç³»åˆ— slotï¼Œå¯¹äºæŸä¸ª slotï¼Œtransformer decode çš„è¿‡ç¨‹ï¼Œå…¶å®å°±ç›¸å½“äºï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ª slot å»æŸ¥è¯¢ encoder featureï¼Œç„¶åæŠŠä¸è¿™ä¸ª slot ç›¸å…³çš„ slot æå–å‡ºæ¥ï¼Œå­˜åˆ° decoder embedding é‡Œã€‚</p>
<p>Detr çš„åšæ³•å’Œè¿™ä¸ª idea ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ¯ä¸€æ­¥åœ¨ä¼˜åŒ–çš„å…¶å®æ˜¯ transformer çš„ queryï¼Œæ¯æ¬¡çš„ output value ä»ç„¶æ˜¯ encoder feature çš„åŠ æƒã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½ç›´æ¥ä¼˜åŒ– valueï¼Œæ¯æ¬¡çš„ output value ç›¸å½“äºæ˜¯ value çš„ä¸€ä¸ª residual refinement å‘¢ï¼Ÿ</p>
<p>å…³äº Object queryï¼Œè®ºæ–‡è¿˜åšäº†ä¸€äº›å¯è§†åŒ–çš„åˆ†æï¼Œ</p>
<ol>
<li>é¦–å…ˆï¼Œæ¯ä¸ª object query éƒ½ä¼šå€¾å‘äºå…³æ³¨è¿™ä¸ª query è´Ÿè´£ç‰©ä½“çš„è¾¹ç•ŒåŒºåŸŸã€‚</li>
<li>å…¶æ¬¡ï¼Œobject query å¯¹äºç‰©ä½“ç±»åˆ«å¹¶æ²¡æœ‰ç‰¹åˆ«çš„å€¾å‘æ€§ã€‚</li>
<li>æœ€åï¼Œobject query ä¼¼ä¹å¯¹äºä¸åŒä½ç½®çš„ç‰©ä½“å…·æœ‰ä¸€å®šå€¾å‘æ€§ï¼Œè¿™ä¹Ÿæ˜¯åç»­å¾ˆå¤šæ–‡ç« æ”¹è¿›çš„åŸºçŸ³ã€‚</li>
</ol>
<p>ä¸ºäº†è¯æ˜ã€2ã€‘è¿™ä¸€ç‚¹ï¼Œä½œè€…åšäº†ä¸€ä¸ªå®éªŒï¼Œä½œè€…åˆæˆäº†ä¸€å¼ æœ‰ 24 ä¸ªé•¿é¢ˆé¹¿çš„å›¾ï¼Œåœ¨æ•°æ®é›†é‡Œï¼Œ
æ²¡æœ‰ä¸€å¼ å›¾æ˜¯æœ‰è¶…è¿‡ 24 åªé•¿é¢ˆé¹¿çš„ï¼Œå¦‚æœ object query å¯¹ç‰©ä½“ç±»åˆ«æœ‰å€¾å‘æ€§çš„è¯ï¼Œé‚£ä¹ˆå°±åˆ†ä¸å‡ºæ¥ 24 ä¸ªé•¿é¢ˆé¹¿ï¼Œå› ä¸ºè®­ç»ƒæ•°æ®ä¸è¶³ä»¥è®­ç»ƒå‡º 24 ä¸ªå¯¹é•¿é¢ˆé¹¿æœ‰åå¥½çš„ queryã€‚</p>
<div class="book-columns flex flex-wrap flatten-in-mobile">
        <div style="flex-grow:7;" class="flex-even markdown-inner"><figure><img src="detr/detr-oq-att.png"
         alt="Object query çš„ attention, å€¾å‘äºå…³æ³¨ç‰©ä½“è¾¹ç•Œ"/><figcaption>
            <p>Object query çš„ attention, å€¾å‘äºå…³æ³¨ç‰©ä½“è¾¹ç•Œ</p>
        </figcaption>
</figure>
</div>
        <div style="flex-grow:4;" class="flex-even markdown-inner"><figure><img src="detr/detr-ofb.png"
         alt="Out of distribution Results"/><figcaption>
            <p>Out of distribution Results</p>
        </figcaption>
</figure>
</div></div>
<figure><img src="detr/detr-oq-pos.png"
         alt="ä¸åŒ object query é¢„æµ‹æ£€æµ‹æ¡†çš„åˆ†å¸ƒ"/><figcaption>
            <p>ä¸åŒ object query é¢„æµ‹æ£€æµ‹æ¡†çš„åˆ†å¸ƒ</p>
        </figcaption>
</figure>

<h3 id="panoptic-segmentation">
  Panoptic Segmentation
  <a class="anchor" href="#panoptic-segmentation">#</a>
</h3>
<p>Detr è¿™ä¸ªæ¶æ„å¯ä»¥æ‰©å±•åˆ° Panoptic Segmentationï¼Œæ€è·¯æ˜¯</p>
<ol>
<li>detr ä¼šè¾“å‡ºæ¯ä¸ªæ£€æµ‹ç‰©ä½“çš„ embeddingï¼Œæ¯ä¸ª object query æœ‰ä¸€ä¸ªã€‚</li>
<li>å›å¿†ï¼Œencoder é‚£ä¸€èŠ‚æˆ‘ä»¬ä¹Ÿæåˆ°äº†ï¼Œå…¶å® encoder çš„ç»“æœå°±å·²ç»æœ‰ä¸€ä¸ªèšç±»çš„æ•ˆæœäº†ã€‚
å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ª attentionï¼ŒæŠŠæ¯ä¸ªæ£€æµ‹ç‰©ä½“çš„è¦†ç›–åŒºåŸŸï¼Œé€šè¿‡ attention map å¤§æ¦‚ä¼°è®¡å‡ºæ¥ã€‚</li>
<li>å¯¹äºæ¯ä¸ªæ£€æµ‹ç‰©ä½“ï¼Œéƒ½æœ‰ä¸€ä¸ª attention mapï¼Œç„¶åæˆ‘ä»¬ç»“åˆ Resnet çš„ç‰¹å¾ï¼Œè¿‡ä¸€ä¸ª CNNï¼Œç„¶åè¿‡ä¸€ä¸ªäºŒåˆ†ç±» FFNï¼Œå¾—åˆ°æ¯ä¸ªæ£€æµ‹ç‰©ä½“ç»†åŒ–çš„äºŒåˆ†ç±» segmentation ç»“æœã€‚</li>
<li>æœ€åï¼Œæ¯ä¸ªç‰©ä½“çš„äºŒåˆ†ç±»ç»“æœï¼Œä¼šé€šè¿‡ argmax æ¦‚ç‡å¾—åˆ°æœ€ç»ˆçš„ panoptic segmentation çš„ç»“æœã€‚</li>
</ol>
<p><strong>PS</strong>ï¼šè¿™ä¹ˆåšçš„è¯ï¼Œåº”è¯¥æ˜¯åªèƒ½åº”ç”¨åˆ° Panoptic Segmentationï¼Œå› ä¸ºæ¯ä¸ªåƒç´  segmentation çš„ç»“æœå¿…é¡»å±äºæ£€æµ‹é‚£ä¸€æ­¥çš„æŸä¸ªç±»åˆ«æ‰è¡Œã€‚</p>
<figure><img src="detr/detr-seg.png"
         alt="Illustration of the panoptic head. A binary mask is generated in parallel for each detected object, then the masks are merged using pixel-wise argmax."/><figcaption>
            <p>Illustration of the panoptic head. A binary mask is generated in parallel for each detected object, then the masks are merged using pixel-wise argmax.</p>
        </figcaption>
</figure>

<h3 id="ä¸€äº›ç»†èŠ‚">
  ä¸€äº›ç»†èŠ‚
  <a class="anchor" href="#%e4%b8%80%e4%ba%9b%e7%bb%86%e8%8a%82">#</a>
</h3>
<div class="book-columns flex flex-wrap flatten-in-mobile">
        <div style="flex-grow:7;" class="flex-even markdown-inner"><ol>
<li>Transformer Encoder çš„ Qï¼ŒK æ˜¯å¸¦ Pos çš„ï¼Œä½†æ˜¯ V ä¸å¸¦ã€‚</li>
<li>Transformer Decoder é‡Œ V è¿˜æ˜¯ä¸å¸¦ Pos ã€1ã€‘ï¼ŒQ å’Œ V åˆ†åˆ«å¸¦ä¸åŒçš„ Posã€‚</li>
<li>å¾…è¡¥å……</li>
</ol>
<p>ã€1ã€‘: é‚£FFNçš„æ—¶å€™,ä½ç½®ä¿¡æ¯åˆ°åº•ä»å“ªæ¥çš„ ğŸ¤¨ï¼Ÿ</div>
        <div style="flex-grow:4;" class="flex-even markdown-inner"><figure><img src="detr/detr-decode.png" width="250"/>
</figure>
</div></div>
<h2 id="2-deformable-detr">
  2. Deformable Detr
  <a class="anchor" href="#2-deformable-detr">#</a>
</h2>
<p>Deformable Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#defor-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xizhou"><span itemprop="familyName">Zhu</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Weijie"><span itemprop="familyName">Su</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2021</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhu</span>,&#32;
    <meta itemprop="givenName" content="Xizhou" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Su</span>,&#32;
    <meta itemprop="givenName" content="Weijie" />
    W.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Lu</span>,&#32;
    <meta itemprop="givenName" content="Lewei" />
    L.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Bin" />
    B.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Xiaogang" />
    X.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Dai</span>,&#32;
    <meta itemprop="givenName" content="Jifeng" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Deformable DETR: Deformable Transformers for End-to-End Object Detection</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2010.04159"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2010.04159</a></span>




</span></span>)</span>
 ä¸»è¦æ˜¯æå‡ºäº† Deformable Attention Module ç”¨äºæ”¹è¿› Detr çš„ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>æ”¶æ•›æ…¢ï¼šä½œè€… claim è¿™ä¸ªç‚¹æ˜¯æ¥è‡ªäº Detr æ‰€ç”¨çš„ attention æ˜¯ä¸ªå…¨å±€ attentionï¼Œä¸€å¼€å§‹éƒ½æ˜¯å¹³å‡çš„æƒé‡ï¼Œä½†æœ€åä¸€èˆ¬ä¼šæ”¶æ•›åˆ°æ¯”è¾ƒ sparse çš„æƒé‡ã€‚
è¿™ä¸ªå­¦ä¹ çš„è¿‡ç¨‹ä¼šæ¯”è¾ƒæ…¢ã€‚</li>
<li>è®¡ç®—å¤æ‚åº¦å¤§ï¼šè¿˜æ˜¯å› ä¸ºæ˜¯å…¨å±€ attentionï¼Œæ—¶é—´å¤æ‚åº¦éšå›¾åƒå¤§å°å¹³æ–¹å¢é•¿ã€‚</li>
</ol>
<h3 id="deformable-attention">
  Deformable Attention
  <a class="anchor" href="#deformable-attention">#</a>
</h3>
<p>Deformable Attention è§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜çš„æ–¹å¼ï¼Œå°±æ˜¯é€šè¿‡ Deformable å¾—åˆ°ä¸€ä¸ªå±€éƒ¨çš„ token listï¼Œç„¶ååªåœ¨è¿™ä¸ª token list å†…åš attentionã€‚</p>
<p>ä¸‹é¢æ˜¯ Deformable Attention çš„ç¤ºæ„å›¾ï¼Œä¸€äº›è¦ç‚¹</p>
<ol>
<li>Deformable Attention éœ€è¦ä¸€ä¸ª reference pointï¼Œç„¶åå±€éƒ¨ token list æ˜¯é€šè¿‡è®¡ç®—ä»¥ reference point ä¸ºä¸­å¿ƒçš„ offset å¾—åˆ°çš„ã€‚</li>
<li>å¯¹äº encoder æ¥è¯´ï¼ŒQï¼ŒKï¼ŒV éƒ½æ˜¯ 2D å›¾ç‰‡ï¼Œæ‰€ä»¥ reference point å°±æ˜¯ Q é‡Œæ¯ä¸ª token çš„è‡ªèº«åæ ‡ï¼ˆå½’ä¸€åŒ–åˆ° 0ï½1ï¼‰ã€‚</li>
<li>å¯¹äº decodedr çš„ cross attentionï¼ŒQ æ˜¯ object queryï¼Œæ²¡æœ‰åæ ‡ï¼Œè¿™é‡Œçš„ reference point æ˜¯é€šè¿‡ä¸€ä¸ª
<code>learnable linear projection followed by a sigmoid function</code> å¾—åˆ°çš„ã€‚</li>
<li>æœ€åçš„ bbox prediction head é¢„æµ‹çš„æ˜¯ reference point çš„ offset å’Œ bbox çš„é•¿å’Œå®½ã€‚</li>
</ol>
<figure><img src="defor-detr.png"
         alt="Deformable Attention ç¤ºæ„å›¾"/><figcaption>
            <p>Deformable Attention ç¤ºæ„å›¾</p>
        </figcaption>
</figure>

<h3 id="multi-scale">
  Multi-scale
  <a class="anchor" href="#multi-scale">#</a>
</h3>
<p>ä½œè€…å®é™…åœ¨ç”¨çš„æ—¶å€™ï¼Œæ˜¯ä½¿ç”¨çš„ Multi-scale Deformable Attention ã€‚</p>
<ol>
<li>è¿™ä¸ªå¤šå±‚çº§çš„ç‰ˆæœ¬ï¼Œä¸»è¦åŒºåˆ«å°±æ˜¯ deformable çš„å±€éƒ¨ token list æ‰©å±•åˆ°å¤šä¸ªå±‚çº§çš„ feature map ä¸Šã€‚</li>
<li>ä¸ºäº†åŒºåˆ†ä¸åŒ scale çš„ queryï¼Œä½œè€…è¿˜åŠ å…¥äº†ä¸€ä¸ªå¯å­¦ä¹ çš„ scale embedding åˆ° query é‡Œé¢ã€‚</li>
</ol>
<h3 id="additional-improvement">
  Additional Improvement
  <a class="anchor" href="#additional-improvement">#</a>
</h3>
<h4 id="iterative-bounding-box-refinement">
  Iterative Bounding Box Refinement
  <a class="anchor" href="#iterative-bounding-box-refinement">#</a>
</h4>
<p>æ¯ä¸€å±‚ Decoder layer é¢„æµ‹çš„ output embedding éƒ½è¿‡ä¸€ä¸ª detection head å¾—åˆ°ä¸€ä¸ª bbox é¢„æµ‹ç»“æœã€‚</p>
<ol>
<li>ç„¶åå°†è¿™ä¸ªé¢„æµ‹ç»“æœçš„ä¸­å¿ƒç‚¹ï¼Œä½œä¸ºä¸‹ä¸€å±‚çš„ decoder layer çš„ reference point</li>
<li>ä¸‹ä¸€å±‚é¢„æµ‹çš„ deformable offset ä¹Ÿç”¨é¢„æµ‹ç»“æœçš„ wï¼Œh è°ƒåˆ¶ä¸€ä¸‹ã€‚</li>
</ol>
<h4 id="two-stage-deformable-detr">
  Two-Stage Deformable DETR
  <a class="anchor" href="#two-stage-deformable-detr">#</a>
</h4>
<p>ç”¨ Transformer Encoder è¾“å‡ºçš„ feature mapï¼Œå¯¹æ¯ä¸ªåƒç´ çš„ç‰¹å¾éƒ½è¿‡ä¸€ä¸ª prediction head å¾—åˆ°ä¸€ä¸ªç²—çš„ bboxï¼Œç±»åˆ«åªæœ‰å‰æ™¯å’ŒèƒŒæ™¯ã€‚ç”¨è¿™äº› proposed region çš„ä¸­å¿ƒç‚¹ï¼Œä½œä¸ºä¸‹ä¸€æ­¥ object query çš„ reference pointã€‚</p>
<h2 id="3-conditional-detr">
  3. Conditional Detr
  <a class="anchor" href="#3-conditional-detr">#</a>
</h2>
<p>
  <a href="https://zhuanlan.zhihu.com/p/401916664">å®˜æ–¹çŸ¥ä¹ä¸“æ è§£è¯»</a></p>
<p>Conditional Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#cond-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Depu"><span itemprop="familyName">Meng</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xiaokang"><span itemprop="familyName">Chen</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2021</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Meng</span>,&#32;
    <meta itemprop="givenName" content="Depu" />
    D.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Chen</span>,&#32;
    <meta itemprop="givenName" content="Xiaokang" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Fan</span>,&#32;
    <meta itemprop="givenName" content="Zejia" />
    Z.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zeng</span>,&#32;
    <meta itemprop="givenName" content="Gang" />
    G.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Houqiang" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yuan</span>,&#32;
    <meta itemprop="givenName" content="Yuhui" />
    Y.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Sun</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Jingdong" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Conditional DETR for Fast Training Convergence</span>.
  <a href="https://doi.org/10.48550/arXiv.2108.06152"
     itemprop="identifier"
     itemtype="https://schema.org/URL">https://doi.org/10.48550/arXiv.2108.06152</a></span>




</span></span>)</span>
 çš„æ ¸å¿ƒæ€æƒ³çœŸçš„éå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠåŸå§‹ Detr ä¸­ cross attention çš„ Q å’Œ K æ¢äº†ä¸€ä¸‹ã€‚</p>
<h3 id="seperate-embedding">
  Seperate Embedding
  <a class="anchor" href="#seperate-embedding">#</a>
</h3>
<p>å…·ä½“æ¥è¯´ï¼ŒQ å’Œ K éƒ½æ˜¯ç”±ä¸€ä¸ª content embedding å’Œ position (ä½œè€…è¿™é‡Œç§°ä¸ºspatial) embeddingï¼Œé€šè¿‡ add å¾—åˆ°ï¼ŒConditional Detr å°±æ˜¯æŠŠ add å˜æˆäº† concateã€‚</p>
<p>èƒŒåçš„åŸç†ï¼Œä½œè€…æ˜¯è¿™æ ·è§£é‡Šçš„ï¼Œ<strong>ä½¿ç”¨ add çš„æ–¹å¼</strong>ï¼Œç®— attention weight æ˜¯è¿™æ ·çš„ï¼š</p>
<div>
$$
\begin{aligned}
&\left(\mathbf{c}_{q}+\mathbf{p}_{q}\right)^{\top}\left(\mathbf{c}_{k}+\mathbf{p}_{k}\right) \\
=& \mathbf{c}_{q}^{\top} \mathbf{c}_{k}+\mathbf{c}_{q}^{\top} \mathbf{p}_{k}+\mathbf{p}_{q}^{\top} \mathbf{c}_{k}+\mathbf{p}_{q}^{\top} \mathbf{p}_{k}
\end{aligned}
$$
</div>
<p>å¯ä»¥çœ‹åˆ° content embedding ä¸ä»…è¦å’Œ content embedding åšç›¸ä¼¼åº¦åŒ¹é…ï¼Œè¿˜è¦å’Œ spatial embedding åšç›¸ä¼¼åº¦åŒ¹é…ã€‚
è¿™æ„å‘³ç€ content embedding ä¸ä»…è¦åŒ…å« content çš„ä¿¡æ¯ï¼Œè¿˜éœ€è¦åŒ…å«ä¸€å®šçš„ spatial çš„ä¿¡æ¯ã€‚<strong>è¿™ä¼šä½¿å¾—è®­ç»ƒéš¾åº¦åŠ å¤§</strong>ã€‚</p>
<p>å¦‚æœæ”¹æˆ concate å½¢å¼ï¼Œé‚£ä¹ˆ attention weight çš„è®¡ç®—å°±å˜æˆäº†ï¼š</p>
<div>
$$
\mathbf{c}_{q}^{\top} \mathbf{c}_{k}+\mathbf{p}_{q}^{\top} \mathbf{p}_{k}
$$
</div>
<p>è¿™æ—¶å€™ content embedding åªå’Œ content embedding åšåŒ¹é…ï¼Œspatial embedding åªå’Œ spatial embedding åšåŒ¹é…ã€‚
<strong>è¿™æ ·å°±é™ä½äº†è®­ç»ƒéš¾åº¦</strong>ã€‚</p>
<p><strong>äº‹å®ä¸Šï¼Œå•çº¯æ”¹æˆ concate å¹¶ä¸èƒ½æç‚¹</strong>ï¼Œä½œè€…åœ¨çŸ¥ä¹ä¸“æ å›å¤äº†ï¼ŒDetr æ”¹æˆ concate è¿˜æ‰ç‚¹äº†ã€‚</p>
<h3 id="reference-point">
  Reference Point
  <a class="anchor" href="#reference-point">#</a>
</h3>
<p>ç±»ä¼¼ Deformable Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#defor-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xizhou"><span itemprop="familyName">Zhu</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Weijie"><span itemprop="familyName">Su</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2021</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhu</span>,&#32;
    <meta itemprop="givenName" content="Xizhou" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Su</span>,&#32;
    <meta itemprop="givenName" content="Weijie" />
    W.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Lu</span>,&#32;
    <meta itemprop="givenName" content="Lewei" />
    L.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Bin" />
    B.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Xiaogang" />
    X.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Dai</span>,&#32;
    <meta itemprop="givenName" content="Jifeng" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Deformable DETR: Deformable Transformers for End-to-End Object Detection</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2010.04159"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2010.04159</a></span>




</span></span>)</span>
 ï¼Œä½œè€…æå‡ºè®© decoder é¢„æµ‹ä¸€ä¸ª reference point çš„ offsetï¼Œä»¥åŠ bbox çš„å®½é«˜ã€‚</p>
<div>
$$
\mathbf{b}=\operatorname{sigmoid}\left(\operatorname{FFN}(\mathbf{f})+\left[\mathbf{s}^{\top} 000\right]^{\top}\right)
$$
</div>
<p>ä½œè€…å°è¯•äº†ä¸¤ç§ä¸åŒçš„è®¡ç®— reference point çš„æ–¹æ³•ï¼Œablation å¦‚ä¸‹ã€‚</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>AP</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸ç”¨ reference point, s=(0,0)</td>
<td>36.8</td>
</tr>
<tr>
<td>å°† s ä½œä¸ºç½‘ç»œå‚æ•°ï¼Œè¿›è¡Œä¼˜åŒ–</td>
<td>40.7</td>
</tr>
<tr>
<td>æ ¹æ®å¯¹åº”çš„ object query é¢„æµ‹è€Œæ¥</td>
<td>40.9</td>
</tr>
</tbody>
</table>
<h3 id="conditional-spatial-query">
  Conditional Spatial Query
  <a class="anchor" href="#conditional-spatial-query">#</a>
</h3>
<p>ä½œè€…æå‡ºç”¨ Conditional Spatial Query æ›¿ä»£ object query ã€‚</p>
<p>Intuition ä¸»è¦æ˜¯ï¼Œencoder çš„ feature é‡Œé¢åŒ…å«äº†æˆ‘ä»¬è¦é¢„æµ‹çš„ bbox çš„ä½ç½®å’Œç±»åˆ«ä¿¡æ¯ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ cross attention æŠŠå®ƒæœ‰æ•ˆçš„æå–å‡ºæ¥ã€‚
è¿™é‡Œçš„ cross attention å…¶å®å°±æ˜¯é€šè¿‡ decoder embedding å’Œ encoder embedding ä»¥åŠå¯¹åº”çš„ spatial embedding ç›´æ¥çš„ç›¸ä¼¼åº¦è¿›è¡Œçš„ã€‚
è¿™é‡Œçš„ç›¸ä¼¼åº¦ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ object query è¿™ä¸ª slot å’Œ encoder çš„ feature çš„ç›¸ä¼¼åº¦ã€‚</p>
<p>åœ¨å¤šå±‚çš„ decoder layer é‡Œï¼Œdecoder embedding ä¸æ–­åœ¨å‘ç›®æ ‡æ¡†çš„ embedding å¯¹é½ï¼Œè¿™æ · cross attention å°±èƒ½å¾—åˆ°æ›´å‡†çš„ encoder featureã€‚</p>
<p>ä½†æ˜¯åŸå§‹çš„ Detr çš„ spatial embedding æ˜¯å•çº¯çš„ object queryï¼Œå’Œ encoder çš„ spatial embedding å¯èƒ½ä¸åœ¨ä¸€ä¸ª spaceï¼Œè¿™æ ·åšç›¸ä¼¼åº¦è®¡ç®—å¯èƒ½ä¸å‡†ã€‚
<strong>ä½œè€…ä¼¼ä¹æ²¡æ¯”ç”¨åŸå§‹ Detr çš„ object query åšspatial embeddingçš„ç»“æœ</strong>ã€‚</p>
<p>ä½œè€…æå‡ºä½¿ç”¨ reference point çš„ sin embedding åš spatial embeddingï¼Œ</p>
<div>
$$
\mathbf{p}_{s}=\operatorname{sinusoidal}(\operatorname{sigmoid}(\mathbf{s}))
$$
</div>
<p>ç„¶åè®¡ç®—ä¸€ä¸ª transformationï¼Œå°†å…¶å’Œ decoder embedding è”ç³»èµ·æ¥ï¼Œåšä¸€ä¸ª offsetï¼Œ</p>
<div>
$$
\mathbf{p}_{q}=\mathbf{T} \mathbf{p}_{s}=\boldsymbol{\lambda}_{q} \odot \mathbf{p}_{s}
$$
</div>
<p>å…¶ä¸­ $\mathbf{T}=\operatorname{FFN}(\mathbf{f})$, $\boldsymbol{\lambda}_{q}$ æ˜¯ä¸ªå¯¹è§’é˜µã€‚</p>
<p><strong>å®éªŒç»“æœ</strong></p>
<ol>
<li>CSQ-P: ç›´æ¥ç”¨ sin è¿‡åçš„ positional embedding $p_s$</li>
<li>CSQ-T: ç›´æ¥ç”¨ transformation $\boldsymbol{\lambda}_{q}$</li>
<li>CSQ-C: ç”¨ decoder content embedding $f$</li>
<li>CSQ-I: ç”¨ f ç»è¿‡ self attention ä¹‹åçš„ $c_q$ é¢„æµ‹çš„ transformation ä¹˜ä¸Š $p_s$ çš„ç»“æœã€‚</li>
</ol>
<figure><img src="cond-detr.png" width="400"/>
</figure>

<blockquote class="book-hint info">
  ç†è®ºä¸Š Concate è¿™ç§åšæ³•ï¼Œå¯¹äºåŸå§‹ Detr ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥ç”¨çš„ï¼Œreference point ä» object query å¾—åˆ°ï¼Œä½†æ˜¯ positional embedding ç›´æ¥å°±ç”¨ object queryã€‚
è¿™æ ·åšæ•ˆæœå¦‚ä½•ï¼Ÿè€Œä¸”ï¼Œæ—¢ç„¶ reference point æ˜¯ä» object query å¾—åˆ°çš„ï¼Œé‚£ä¹ˆ object query å®é™…ä¸Šå°±åŒ…å«äº† reference point çš„ä¿¡æ¯ã€‚
</blockquote>

<h2 id="4-anchor-detr">
  4. Anchor Detr
  <a class="anchor" href="#4-anchor-detr">#</a>
</h2>
<p>Anchor Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#anchor-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Yingming"><span itemprop="familyName">Wang</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xiangyu"><span itemprop="familyName">Zhang</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2022</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Yingming" />
    Y.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Xiangyu" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yang</span>,&#32;
    <meta itemprop="givenName" content="Tong" />
    T.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Sun</span>,&#32;
    <meta itemprop="givenName" content="Jian" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2022</span>).
  &#32;<span itemprop="name">Anchor DETR: Query Design for Transformer-Based Object Detection</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2109.07107"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2109.07107</a></span>




</span></span>)</span>
 å’Œ Conditional Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#cond-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Depu"><span itemprop="familyName">Meng</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xiaokang"><span itemprop="familyName">Chen</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2021</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Meng</span>,&#32;
    <meta itemprop="givenName" content="Depu" />
    D.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Chen</span>,&#32;
    <meta itemprop="givenName" content="Xiaokang" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Fan</span>,&#32;
    <meta itemprop="givenName" content="Zejia" />
    Z.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zeng</span>,&#32;
    <meta itemprop="givenName" content="Gang" />
    G.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Houqiang" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yuan</span>,&#32;
    <meta itemprop="givenName" content="Yuhui" />
    Y.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Sun</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Jingdong" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Conditional DETR for Fast Training Convergence</span>.
  <a href="https://doi.org/10.48550/arXiv.2108.06152"
     itemprop="identifier"
     itemtype="https://schema.org/URL">https://doi.org/10.48550/arXiv.2108.06152</a></span>




</span></span>)</span>
 æ˜¯åŒæœŸå·¥ä½œï¼Œåè€…ç¨å¾®æ—©ä¸€ç‚¹ã€‚</p>
<h3 id="anchor-as-object-query">
  Anchor as Object Query
  <a class="anchor" href="#anchor-as-object-query">#</a>
</h3>
<p>å…¶å®å’Œ Conditional Detr å¾ˆåƒï¼Œéƒ½æ˜¯ reference point åš anchor å’Œ object queryï¼Œç„¶å decoder é¢„æµ‹ offsetã€‚</p>
<figure><img src="anchor-detr.png"/>
</figure>

<h3 id="row-column-decoupled-attention">
  Row-Column Decoupled Attention
  <a class="anchor" href="#row-column-decoupled-attention">#</a>
</h3>
<p>ä¸å¤ªé‡è¦ï¼Œæš‚æ—¶æ²¡å†™ã€‚</p>
<h3 id="å¯¹æ¯”">
  å¯¹æ¯”
  <a class="anchor" href="#%e5%af%b9%e6%af%94">#</a>
</h3>
<p><strong>å¯¹æ¯” Deformable Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#defor-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xizhou"><span itemprop="familyName">Zhu</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Weijie"><span itemprop="familyName">Su</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2021</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhu</span>,&#32;
    <meta itemprop="givenName" content="Xizhou" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Su</span>,&#32;
    <meta itemprop="givenName" content="Weijie" />
    W.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Lu</span>,&#32;
    <meta itemprop="givenName" content="Lewei" />
    L.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Bin" />
    B.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Xiaogang" />
    X.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Dai</span>,&#32;
    <meta itemprop="givenName" content="Jifeng" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Deformable DETR: Deformable Transformers for End-to-End Object Detection</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2010.04159"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2010.04159</a></span>




</span></span>)</span>
</strong></p>
<p><strong>å¯¹æ¯” Conditional Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#cond-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Depu"><span itemprop="familyName">Meng</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Xiaokang"><span itemprop="familyName">Chen</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2021</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Meng</span>,&#32;
    <meta itemprop="givenName" content="Depu" />
    D.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Chen</span>,&#32;
    <meta itemprop="givenName" content="Xiaokang" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Fan</span>,&#32;
    <meta itemprop="givenName" content="Zejia" />
    Z.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zeng</span>,&#32;
    <meta itemprop="givenName" content="Gang" />
    G.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Houqiang" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yuan</span>,&#32;
    <meta itemprop="givenName" content="Yuhui" />
    Y.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Sun</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Jingdong" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Conditional DETR for Fast Training Convergence</span>.
  <a href="https://doi.org/10.48550/arXiv.2108.06152"
     itemprop="identifier"
     itemtype="https://schema.org/URL">https://doi.org/10.48550/arXiv.2108.06152</a></span>




</span></span>)</span>
</strong></p>
<ol>
<li>éƒ½ç”¨ reference point è½¬ embedding ä½œä¸º object queryã€‚
<ol>
<li>Conditional Detr çš„ reference point æ˜¯ç”± object query é€šè¿‡ FFN å¾—åˆ°çš„ã€‚</li>
<li>Anchor Detr çš„ reference point æ˜¯å¯å­¦ä¹ çš„å‚æ•°ï¼ˆå…¶å®æ˜¯ Conditional Detr çš„å¦ä¸€ç§æ–¹æ¡ˆï¼Œä»–ä»¬çš„å®éªŒç»“æœæ˜¯è¿™ç§ä¸ºä½ 0.2ï¼‰</li>
</ol>
</li>
<li>Anchor é€šè¿‡ Pattern embedding å¯ä»¥ä¸€ä¸ª anchor point é¢„æµ‹å¤šä¸ªç‰©ä½“ã€‚</li>
<li>è½¬ Position embedding çš„æ–¹å¼ä¸ä¸€æ ·ï¼šconditional detr ç”¨çš„æ˜¯ sinï¼Œanchor detr <strong>é¢å¤–</strong>åŠ äº†ä¸€ä¸ª FFNã€‚</li>
</ol>
<h2 id="5-dab-detr">
  5. DAB Detr
  <a class="anchor" href="#5-dab-detr">#</a>
</h2>
<p>DAB Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#dab-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Shilong"><span itemprop="familyName">Liu</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Feng"><span itemprop="familyName">Li</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2022</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Liu</span>,&#32;
    <meta itemprop="givenName" content="Shilong" />
    S.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Feng" />
    F.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Hao" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yang</span>,&#32;
    <meta itemprop="givenName" content="Xiao" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Qi</span>,&#32;
    <meta itemprop="givenName" content="Xianbiao" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Su</span>,&#32;
    <meta itemprop="givenName" content="Hang" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhu</span>,&#32;
    <meta itemprop="givenName" content="Jun" />
    J.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>
  &#32;
    (<span itemprop="datePublished">2022</span>).
  &#32;<span itemprop="name">DAB-DETR: Dynamic Anchor Boxes are Better Queries for DETR</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2201.12329"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2201.12329</a></span>




</span></span>)</span>
, å‰é¢çš„å·¥ä½œéƒ½æ˜¯ç”¨ anchor point åš object queryï¼ŒDAB Detr ä¹Ÿ follow è¿™ä¸ªåšæ³•ï¼Œç„¶åé€šè¿‡ä¸€ä¸ª modulated attention å¼•å…¥äº† Width å’Œ Heightã€‚æœ€å output embedding é¢„æµ‹çš„ä¸æ­¢æ˜¯ xï¼Œy çš„ offset è¿˜æœ‰ hï¼Œw çš„ offsetã€‚</p>
<figure><img src="dab-detr.png"/>
</figure>

<h2 id="6-dn-detr">
  6. DN Detr
  <a class="anchor" href="#6-dn-detr">#</a>
</h2>
<p>Denoising Detr 




<span class="hugo-cite-intext"
        itemprop="citation">(<span class="hugo-cite-group">

          <a href="#dn-detr"><span class="visually-hidden">Citation: </span><span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Feng"><span itemprop="familyName">Li</span></span>,&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="givenName" content="Hao"><span itemprop="familyName">Zhang</span></span>
                  <em>&amp; al.</em>,&#32;<span itemprop="datePublished">2022</span></a><span class="hugo-cite-citation"> 










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Feng" />
    F.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Hao" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Liu</span>,&#32;
    <meta itemprop="givenName" content="Shilong" />
    S.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Guo</span>,&#32;
    <meta itemprop="givenName" content="Jian" />
    J.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Ni</span>,&#32;
    <meta itemprop="givenName" content="Lionel M" />
    L.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>
  &#32;
    (<span itemprop="datePublished">2022</span>).
  &#32;<span itemprop="name">DN-DETR: Accelerate DETR Training by Introducing Query DeNoising</span>.&#32;<span itemprop="pagination">11</span>.</span>




</span></span>)</span>
</p>
<p>å¼•å…¥ä¸€ä¸ªé¢å¤–çš„ Denoising task ä½œä¸ºè¾…åŠ©ä»»åŠ¡ï¼Œå…·ä½“çš„ï¼Œå°† GT object çš„ noisy bbox ä½œä¸º DAB çš„ object query è¾“å…¥ï¼Œç„¶åç›®æ ‡æ˜¯å»å™ªå›æ¥ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®">
  å‚è€ƒæ–‡çŒ®
  <a class="anchor" href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae">#</a>
</h2>

  

  










<section class="hugo-cite-bibliography">
  <dl>
    

      <div id="anchor-detr">
        <dt>
          Wang,&#32;
          Zhang,&#32;
          Yang&#32;&amp;&#32;Sun

          
          (2022)</dt>

        <dd>
          










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Yingming" />
    Y.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Xiangyu" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yang</span>,&#32;
    <meta itemprop="givenName" content="Tong" />
    T.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Sun</span>,&#32;
    <meta itemprop="givenName" content="Jian" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2022</span>).
  &#32;<span itemprop="name">Anchor DETR: Query Design for Transformer-Based Object Detection</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2109.07107"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2109.07107</a></span>




</dd>

      </div>

      <div id="cond-detr">
        <dt>
          Meng,&#32;
          Chen,&#32;
          Fan,&#32;
          Zeng,&#32;
          Li,&#32;
          Yuan,&#32;
          Sun&#32;&amp;&#32;Wang

          
          (2021)</dt>

        <dd>
          










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Meng</span>,&#32;
    <meta itemprop="givenName" content="Depu" />
    D.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Chen</span>,&#32;
    <meta itemprop="givenName" content="Xiaokang" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Fan</span>,&#32;
    <meta itemprop="givenName" content="Zejia" />
    Z.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zeng</span>,&#32;
    <meta itemprop="givenName" content="Gang" />
    G.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Houqiang" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yuan</span>,&#32;
    <meta itemprop="givenName" content="Yuhui" />
    Y.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Sun</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Jingdong" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Conditional DETR for Fast Training Convergence</span>.
  <a href="https://doi.org/10.48550/arXiv.2108.06152"
     itemprop="identifier"
     itemtype="https://schema.org/URL">https://doi.org/10.48550/arXiv.2108.06152</a></span>




</dd>

      </div>

      <div id="dab-detr">
        <dt>
          Liu,&#32;
          Li,&#32;
          Zhang,&#32;
          Yang,&#32;
          Qi,&#32;
          Su,&#32;
          Zhu&#32;&amp;&#32;Zhang

          
          (2022)</dt>

        <dd>
          










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Liu</span>,&#32;
    <meta itemprop="givenName" content="Shilong" />
    S.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Feng" />
    F.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Hao" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Yang</span>,&#32;
    <meta itemprop="givenName" content="Xiao" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Qi</span>,&#32;
    <meta itemprop="givenName" content="Xianbiao" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Su</span>,&#32;
    <meta itemprop="givenName" content="Hang" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhu</span>,&#32;
    <meta itemprop="givenName" content="Jun" />
    J.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>
  &#32;
    (<span itemprop="datePublished">2022</span>).
  &#32;<span itemprop="name">DAB-DETR: Dynamic Anchor Boxes are Better Queries for DETR</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2201.12329"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2201.12329</a></span>




</dd>

      </div>

      <div id="defor-detr">
        <dt>
          Zhu,&#32;
          Su,&#32;
          Lu,&#32;
          Li,&#32;
          Wang&#32;&amp;&#32;Dai

          
          (2021)</dt>

        <dd>
          










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhu</span>,&#32;
    <meta itemprop="givenName" content="Xizhou" />
    X.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Su</span>,&#32;
    <meta itemprop="givenName" content="Weijie" />
    W.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Lu</span>,&#32;
    <meta itemprop="givenName" content="Lewei" />
    L.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Bin" />
    B.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Wang</span>,&#32;
    <meta itemprop="givenName" content="Xiaogang" />
    X.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Dai</span>,&#32;
    <meta itemprop="givenName" content="Jifeng" />
    J.</span>
  &#32;
    (<span itemprop="datePublished">2021</span>).
  &#32;<span itemprop="name">Deformable DETR: Deformable Transformers for End-to-End Object Detection</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2010.04159"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2010.04159</a></span>




</dd>

      </div>

      <div id="detr">
        <dt>
          Carion,&#32;
          Massa,&#32;
          Synnaeve,&#32;
          Usunier,&#32;
          Kirillov&#32;&amp;&#32;Zagoruyko

          
          (2020)</dt>

        <dd>
          










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Carion</span>,&#32;
    <meta itemprop="givenName" content="Nicolas" />
    N.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Massa</span>,&#32;
    <meta itemprop="givenName" content="Francisco" />
    F.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Synnaeve</span>,&#32;
    <meta itemprop="givenName" content="Gabriel" />
    G.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Usunier</span>,&#32;
    <meta itemprop="givenName" content="Nicolas" />
    N.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Kirillov</span>,&#32;
    <meta itemprop="givenName" content="Alexander" />
    A.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zagoruyko</span>,&#32;
    <meta itemprop="givenName" content="Sergey" />
    S.</span>
  &#32;
    (<span itemprop="datePublished">2020</span>).
  &#32;<span itemprop="name">End-to-End Object Detection with Transformers</span>.&#32;Retrieved from&#32;
  <a href="http://arxiv.org/abs/2005.12872"
     itemprop="identifier"
     itemtype="https://schema.org/URL">http://arxiv.org/abs/2005.12872</a></span>




</dd>

      </div>

      <div id="dn-detr">
        <dt>
          Li,&#32;
          Zhang,&#32;
          Liu,&#32;
          Guo,&#32;
          Ni&#32;&amp;&#32;Zhang

          
          (2022)</dt>

        <dd>
          










<span itemscope
      itemtype="https://schema.org/Article"
      data-type="article"><span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Li</span>,&#32;
    <meta itemprop="givenName" content="Feng" />
    F.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Hao" />
    H.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Liu</span>,&#32;
    <meta itemprop="givenName" content="Shilong" />
    S.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Guo</span>,&#32;
    <meta itemprop="givenName" content="Jian" />
    J.</span>,&#32;
  <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Ni</span>,&#32;
    <meta itemprop="givenName" content="Lionel M" />
    L.</span>&#32;&amp;&#32;<span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="familyName">Zhang</span>,&#32;
    <meta itemprop="givenName" content="Lei" />
    L.</span>
  &#32;
    (<span itemprop="datePublished">2022</span>).
  &#32;<span itemprop="name">DN-DETR: Accelerate DETR Training by Introducing Query DeNoising</span>.&#32;<span itemprop="pagination">11</span>.</span>




</dd>

      </div>
  </dl>
</section>



<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>ç•¥å¤§äºä¸€å¼ å›¾é‡Œæœ€å¤šèƒ½æ£€æµ‹åˆ°çš„ç‰©ä½“æ•°&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/Zeqiang-Lai/blog/commit/1d901e0a64765369a52cc8f04f72ddd35cd52a10" title='æœ€åä¿®æ”¹è€… Zeqiang Lai | May 26, 2023' target="_blank" rel="noopener">
      <img src="/blog/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>May 26, 2023</span>
    </a>
  </div>




</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        <script>
    MathJax = {
      svg: {
            fontCache: 'global'
      },
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      },
    };
  
    window.addEventListener('load', (event) => {
        document.querySelectorAll("mjx-container").forEach(function(x){
          x.parentElement.classList += 'has-jax'})
      });
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#timeline">Timeline</a></li>
        <li><a href="#1-detr">1. Detr</a>
          <ul>
            <li><a href="#encoder">Encoder</a></li>
            <li><a href="#position-embedding">Position Embedding</a></li>
            <li><a href="#object-query">Object Query</a></li>
            <li><a href="#panoptic-segmentation">Panoptic Segmentation</a></li>
            <li><a href="#ä¸€äº›ç»†èŠ‚">ä¸€äº›ç»†èŠ‚</a></li>
          </ul>
        </li>
        <li><a href="#2-deformable-detr">2. Deformable Detr</a>
          <ul>
            <li><a href="#deformable-attention">Deformable Attention</a></li>
            <li><a href="#multi-scale">Multi-scale</a></li>
            <li><a href="#additional-improvement">Additional Improvement</a></li>
          </ul>
        </li>
        <li><a href="#3-conditional-detr">3. Conditional Detr</a>
          <ul>
            <li><a href="#seperate-embedding">Seperate Embedding</a></li>
            <li><a href="#reference-point">Reference Point</a></li>
            <li><a href="#conditional-spatial-query">Conditional Spatial Query</a></li>
          </ul>
        </li>
        <li><a href="#4-anchor-detr">4. Anchor Detr</a>
          <ul>
            <li><a href="#anchor-as-object-query">Anchor as Object Query</a></li>
            <li><a href="#row-column-decoupled-attention">Row-Column Decoupled Attention</a></li>
            <li><a href="#å¯¹æ¯”">å¯¹æ¯”</a></li>
          </ul>
        </li>
        <li><a href="#5-dab-detr">5. DAB Detr</a></li>
        <li><a href="#6-dn-detr">6. DN Detr</a></li>
        <li><a href="#å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  <script async="async">
    var html = document.documentElement;
    var switcher = document.getElementsByClassName('js-toggle')[0];
    if(typeof(Storage) !== 'undefined') {
        if (localStorage.getItem('themeMode') == 'dark' || document.documentElement.getAttribute('data-theme') == 'dark') {
            switcher.classList.add('js-toggle--checked');
        }
        switcher.classList.add('js-toggle--focus');
    }
    
    switcher.addEventListener("click", function() {
            this.classList.toggle('js-toggle--checked');
            this.classList.add('js-toggle--focus');
            
            if (this.classList.contains('js-toggle--checked')) {
                html.setAttribute("data-theme","dark");
                
                localStorage.setItem('themeMode', 'dark');
            } else {
                html.setAttribute("data-theme","light");
                localStorage.setItem('themeMode', 'light');
            }
        })
</script>


</body>
</html>












